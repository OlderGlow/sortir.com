<div class="container-xl">
    <div class="table-responsive col-lg-12 mx-auto">
        <div class="table">
            <div class="table-title">
                <div class="row">
                    <table class="table table-striped table-hover table-bordered mt-4" id="myTable2">

                        <thead class="thead-dark">
                        <tr>
                            <th class="text-center" onclick="sortTable(0)">Nom de la sortie</th>
                            <th class="text-center" onclick="sortTable(0)">Date de la sortie</th>
                            <th class="text-center" onclick="sortTable(0)">Clôture</th>
                            <th class="text-center" onclick="sortTable(0)">Inscrit/Places</th>
                            <th class="text-center" onclick="sortTable(0)">État</th>
                            <th class="text-center" onclick="sortTable(0)">Inscrit</th>
                            <th class="text-center" onclick="sortTable(0)">Organisateur</th>
                            <th class="text-center">Actions</th>
                        </tr>
                        </thead>
                        {% for sortie in sorties %}

                            <tbody class="bg-white">
                            <tr>
                                <td class="text-center">{{ sortie.nom }}</td>
                                <td class="text-center">{{ sortie.datedebut | date('d/m/Y') }}</td>
                                <td class="text-center">{{ sortie.datecloture | date('d/m/Y') }}</td>
                                <td class="text-center">{{ sortie.estInscrit|length }}/{{ sortie.nbinscriptionsmax }}</td>
                                <td class="text-center">{{ sortie.etats.libelle }}</td>
                                <td class="text-center">{% if sortie.estInscrit.first.id is defined %}

                                        {% for sortieInscrit in sortie.estInscrit %}
                                            {% if sortieInscrit.id == app.user.id %}X{% endif %}
                                        {% endfor %}
                                    {% endif %}

                                </td>
                                <td class="text-center"><a
                                            href="{{ path('participant.detail', {id: sortie.organisateur.id}) }}">{{ sortie.organisateur.pseudo }}</a>
                                </td>
                                <td class="text-center">


                                    <!-- AFFICHER -- SE DESINSCRIRE -->



                                    {% if sortie.etats.libelle == 'Créée' %}
                                        <a href="{{ path('sortie.edit', {id: sortie.id})}}">Modifier</a> -
                                        <a href="{{ path('sortie.publish', {id: sortie.id}) }}">Publier</a>
                                    {% endif %}

                                    {% if (sortie.etats.libelle == 'Activité en cours') or
                                        (sortie.etats.libelle == 'Passée') or (sortie.etats.libelle == 'Clôturée') %}
                                        <a href="{{ path('sortie.view', {id: sortie.id}) }}">Afficher</a>
                                    {% endif %}

                                    {% if sortie.etats.libelle == 'Annulée' %}Modifier {% endif %}
                                </td>
                            </tr>
                            </tbody>

                        {% endfor %}
                    </table>

                    <a href="{{ path('sortie.add') }}" class="btn btn-primary">Ajouter une sortie</a>
                </div>
            </div>
        </div>
    </div>
</div>